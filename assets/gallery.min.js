function createGallery(){const e=document.querySelector(".gallery"),t=document.querySelectorAll(".gallery-item"),l=document.createElement("div");l.classList.add("gallery-items-row","row"),t.forEach(t=>{const n=document.createElement("div");n.classList.add("item-column","mb-4","col-12","col-sm-6","col-md-4","col-lg-4","col-xl-4");const c=e.querySelector("img");c&&(c.classList.add("img-fluid"),c.addEventListener("click",()=>{openModal(c.src,c.alt)})),n.appendChild(t),l.appendChild(n)}),e.appendChild(l),e.style.display="block"}function createFilterButtons(){const e=document.querySelector(".gallery"),t=document.createElement("ul");t.classList.add("my-4","tags-bar","nav","nav-pills");const l=createFilterButton("Tous");l.addEventListener("click",()=>{filterImages("Tous"),setActiveButton(l)}),l.querySelector(".nav-link").classList.add("active-tag","active"),t.appendChild(l);const n=Array.from(new Set(Array.from(e.querySelectorAll(".gallery-item")).map(e=>e.getAttribute("data-gallery-tag"))));n.forEach(e=>{const l=createFilterButton(e);l.addEventListener("click",()=>{filterImages(e),setActiveButton(l)}),t.appendChild(l)}),e.insertBefore(t,e.firstChild)}function createFilterButton(e){const t=document.createElement("li");t.classList.add("nav-item");const l=document.createElement("span");return l.classList.add("nav-link"),l.textContent=e,t.appendChild(l),t}function setActiveButton(e){const t=document.querySelectorAll(".nav-link");t.forEach(e=>{e.classList.remove("active-tag","active")}),e.querySelector(".nav-link").classList.add("active-tag","active")}function filterImages(e){const t=document.querySelector(".gallery"),l=t.querySelectorAll(".gallery-item");l.forEach(t=>{const l=t.getAttribute("data-gallery-tag");if("Tous"===e||e===l){t.style.display="block",t.classList.remove("display-none");const e=t.closest(".item-column");e&&e.classList.remove("display-none")}else{t.style.display="none",t.classList.add("display-none");const e=t.closest(".item-column");e&&e.classList.add("display-none")}})}function createModal(){const e=document.querySelector(".gallery"),t=document.createElement("div");t.classList.add("modal"),t.style.display="none";const l=document.createElement("div");l.classList.add("modal-content");const n=document.createElement("div");n.classList.add("modal-body");const c=document.createElement("div");c.classList.add("mg-prev"),c.innerHTML="<";const o=document.createElement("img");o.classList.add("lightboxImage","img-fluid");const a=document.createElement("div");a.classList.add("mg-next"),a.innerHTML=">",a.addEventListener("click",handleNext),c.addEventListener("click",handlePrev),n.appendChild(c),n.appendChild(o),n.appendChild(a),l.appendChild(n),t.appendChild(l),e.appendChild(t)}function openModal(e,t){const l=document.querySelector(".modal"),n=l.querySelector(".lightboxImage");n.src=e,n.alt=t,l.style.display="flex"}function closeModal(){const e=document.querySelector(".modal");e.style.display="none"}function handlePrev(){const e=document.querySelector(".lightboxImage"),t=document.querySelectorAll(".gallery-item"),l=e.src;let n=-1;if(t.forEach((e,t)=>{e.src!==l||(n=t)}),-1!==n){let l=n-1;for(;l>=0;){if("none"!==t[l].style.display){const n=t[l].src;return void(e.src=n)}l--}for(l=t.length-1;l>n;){if("none"!==t[l].style.display){const n=t[l].src;return void(e.src=n)}l--}}}function handleNext(){const e=document.querySelector(".lightboxImage"),t=document.querySelectorAll(".gallery-item"),l=e.src;let n=-1;if(t.forEach((e,t)=>{e.src!==l||(n=t)}),-1!==n){let l=n+1;for(;l<t.length;){if("none"!==t[l].style.display){const n=t[l].src;return void(e.src=n)}l++}for(l=0;l<n;){if("none"!==t[l].style.display){const n=t[l].src;return void(e.src=n)}l++}}}function start(){createGallery(),createFilterButtons(),createModal()}document.addEventListener("click",function(e){const t=document.querySelector(".modal");e.target===t&&closeModal()}),document.addEventListener("DOMContentLoaded",function(){start()});